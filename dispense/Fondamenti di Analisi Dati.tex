\documentclass[a4paper,11pt]{book}

% ===== Pacchetti essenziali =====
\usepackage[utf8]{inputenc}     % codifica sorgente (se usi pdfLaTeX)
\usepackage[T1]{fontenc}        % output font con accenti corretti
\usepackage[italian]{babel}     % sillabazione e testi automatici in italiano
\usepackage{lmodern}            % font Latin Modern
\usepackage{microtype}          % migliore giustificazione del testo
\usepackage{tikz}\usetikzlibrary{arrows.meta,positioning,decorations.pathreplacing}
\usepackage{float}

\usepackage{listings}
\usepackage[T1]{fontenc}
\usepackage[scaled=0.9]{beramono} % facoltativo: font monospace più leggibile
\lstdefinestyle{py}{
  language=Python,
  basicstyle=\ttfamily\small,
  numbers=left,
  numbersep=8pt,
  frame=single,
  framerule=0.4pt,
  breaklines=true,
  tabsize=4,
  showstringspaces=false,
  captionpos=b
}

% ===== Matematica =====
\usepackage{amsmath,amssymb,amsthm}
\numberwithin{equation}{chapter}

% ===== Impaginazione =====
\usepackage{geometry}
% Margini comodi per tablet/stampa: non stretti, ma senza sprecare spazio
\geometry{a4paper, top=30mm, bottom=32mm, left=30mm, right=30mm}                                        

\usepackage{setspace}
% Interlinea: ben leggibile ma con buona densità di contenuto
\setstretch{1.15}

% Evita vedove/orfani (migliora la lettura su pagina singola)
\clubpenalty=10000
\widowpenalty=10000

% Profondità di numerazione / indice (come nello screenshot: 1.1.1)
\setcounter{secnumdepth}{3} % numerazione fino a \subsubsection
\setcounter{tocdepth}{2}    % TOC fino a \subsection (metti 3 se vuoi anche le subsubsection)

% ===== Intestazioni e piè di pagina =====
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{} % pulisci
\fancyhead[LE,RO]{\thepage}
\fancyhead[LO]{\nouppercase{\rightmark}}
\fancyhead[RE]{\nouppercase{\leftmark}}
\setlength{\headheight}{15pt}
\addtolength{\topmargin}{-2pt}

% ===== Tabelle, grafica,    link =====
\usepackage{booktabs}
\usepackage{graphicx}
\usepackage[hidelinks]{hyperref}
\usepackage{wrapfig}

% ===== Liste: leggibili, non compattate eccessivamente =====
\usepackage{enumitem}
% itemize / enumerate: spazi moderati per mantenere i dettagli visivi
\setlist[itemize]{topsep=4pt, partopsep=0pt, itemsep=3pt, parsep=2pt}
\setlist[enumerate]{topsep=4pt, partopsep=0pt, itemsep=3pt, parsep=2pt}
% description: rientro e allineamento gradevole; etichetta in grassetto
\setlist[description]{font=\normalfont\bfseries, labelsep=0.6em, leftmargin=2em}

% (Facoltativo) Se vuoi che gli elenchi siano più “a colonna” in certi punti:
% \begin{description}[widest=Etichetta-più-lunga,leftmargin=!,labelsep=0.6em]
%   \item[Etichetta] Testo...
% \end{description}

\usepackage{subcaption}
\usepackage{comment}


\usepackage[most]{tcolorbox}
\usepackage{chngcntr} % per legare il contatore alla section

% --- contatore e formato: x = section, y = progressivo nella section
\newcounter{nicequotecnt}
\counterwithin{nicequotecnt}{chapter}
\renewcommand{\thenicequotecnt}{\thechapter.\arabic{nicequotecnt}}

% testo fisso prima del numero (puoi cambiare in "Teorema", "Lemma", ecc.)
\newcommand{\nicelabelname}{Definizione}

\tcbset{
  nicequotebox/.style={
    colback=white,
    colframe=black,
    boxrule=0.6pt,
    arc=2mm,
    left=8pt,
    right=8pt,
    top=6pt,
    bottom=12pt,
    boxsep=6pt,
    fontupper=\itshape,
    enhanced,
    breakable
  }
}

% --- Ambiente: stampa "Definizione x.y" in basso a destra (solo sull’ultima parte se va a capo)
\newtcolorbox{nicequote}{
  nicequotebox,
  before upper=\refstepcounter{nicequotecnt},
  overlay unbroken={
    \node[anchor=south east, xshift=-6pt, yshift=4pt, font=\footnotesize]
      at (frame.south east) {\nicelabelname~\thenicequotecnt};
  },
  overlay last={
    \node[anchor=south east, xshift=-6pt, yshift=4pt, font=\footnotesize]
      at (frame.south east) {\nicelabelname~\thenicequotecnt};
  }
}

\title{\Huge \bfseries Fondamenti di Analisi Dati}
\author{\Large Emanuele Galiano}
\date{Anno Accademico 2025/2026}

\begin{document}

\frontmatter
\maketitle
\tableofcontents

\mainmatter
\include{chapters/key_concepts}
\include{chapters/describe_visualize}
\include{chapters/probability}
\include{chapters/var_assoc}
\include{chapters/data_distrb}
\include{chapters/statistical_inference}
\include{chapters/predictive_analysis}
\include{chapters/linear_regression}
\include{chapters/beyond_lr}
\include{chapters/classification}
\include{chapters/logistic_regression}
\include{chapters/naive_bayes}
\include{chapters/data_representation}

\include{chapters/grafici}

\backmatter

\end{document}